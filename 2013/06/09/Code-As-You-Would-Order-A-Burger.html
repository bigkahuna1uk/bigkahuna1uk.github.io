<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Code As You Would Order A Burger</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="//bigkahuna1uk.github.io/themes/Roon/favicon.ico">

    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:400,700,400italic,700italic|Open+Sans:400italic,700italic,700,400">
    <link rel="stylesheet" type="text/css" href="//bigkahuna1uk.github.io/themes/Roon/assets/css/screen.css?v=1.0.0" />

    <link rel="canonical" href="https://bigkahuna1uk.github.io/2013/06/09/Code-As-You-Would-Order-A-Burger.html" />
    
    <meta property="og:site_name" content="EXAUDIO, COMPERIO, CONLOQUOR" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Code As You Would Order A Burger" />
    <meta property="og:description" content="Recently during my work, I came across some code where the paradigm Tell Don&amp;#8217;t Ask came into play. You sometimes see code written that&amp;#8217;s not really using OO to its full strengths and still is of..." />
    <meta property="og:url" content="https://bigkahuna1uk.github.io/2013/06/09/Code-As-You-Would-Order-A-Burger.html" />
    <meta property="article:published_time" content="2013-06-08T23:00:00.000Z" />
    <meta property="article:modified_time" content="2016-03-12T07:39:34.078Z" />
    <meta property="article:tag" content="OO" />
    <meta property="article:tag" content="Design" />
    <meta property="article:tag" content="GOOS" />
    <meta property="article:tag" content="Tell Don&amp;#39;t Ask" />
    <meta property="article:tag" content="Messaging" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Code As You Would Order A Burger" />
    <meta name="twitter:description" content="Recently during my work, I came across some code where the paradigm Tell Don&amp;#8217;t Ask came into play. You sometimes see code written that&amp;#8217;s not really using OO to its full strengths and still is of..." />
    <meta name="twitter:url" content="https://bigkahuna1uk.github.io/2013/06/09/Code-As-You-Would-Order-A-Burger.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "EXAUDIO, COMPERIO, CONLOQUOR",
    "author": {
        "@type": "Person",
        "name": null,
        "image": "https://avatars.githubusercontent.com/u/1609101?v=3",
        "url": "undefined/author/undefined",
        "sameAs": null
    },
    "headline": "Code As You Would Order A Burger",
    "url": "https://bigkahuna1uk.github.io/2013/06/09/Code-As-You-Would-Order-A-Burger.html",
    "datePublished": "2013-06-08T23:00:00.000Z",
    "dateModified": "2016-03-12T07:39:34.078Z",
    "keywords": "OO,  Design,  GOOS,  Tell Don&amp;#39;t Ask,  Messaging",
    "description": "Recently during my work, I came across some code where the paradigm Tell Don&amp;#8217;t Ask came into play. You sometimes see code written that&amp;#8217;s not really using OO to its full strengths and still is of..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="EXAUDIO, COMPERIO, CONLOQUOR" href="https://bigkahuna1uk.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
</head>
<body class="post-template tag-O-O tag-Design tag-G-O-O-S tag-Tell-Dont-Ask tag-Messaging  noimage">

    


    <article role="main" class="">
        <header>
            <a href="https://bigkahuna1uk.github.io" id="home_link">Â«</a>
            <div class="meta"><time datetime="2013-06-09"><a href="/2013/06/09/Code-As-You-Would-Order-A-Burger.html">June 09, 2013</a></time> <span class="count" id="js-reading-time"></span></div>
            <h1>Code As You Would Order A Burger</h1>
        </header>

        <div class="text" id="js-post-content">
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Recently during my work, I came across some code where the paradigm <strong>Tell Don&#8217;t Ask</strong> came into play. You sometimes see code written that&#8217;s not really using OO to its full strengths and still is of a procedural stance. There&#8217;s often frequent examples where an object asks other objects for data and then does something with it. This is not really OO even though you may still be using other aspects of OO such as enscapulation, inheritance or polymorphism. It&#8217;s still asking for data whereas the real value-add for OO is message passing or the behaviour of the objects rather than the data they may contain. I&#8217;ve come to understand this implicitly via the usage of mocks during testing. The use of mocks results in code that better follows the <strong>'Tell, Don&#8217;t Ask'</strong> paradigm.</p>
</div>
<div class="paragraph">
<p>One of the originators of mock objects noted that:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The trigger for our original discovery of the technique was when John Nolan set the challenge of writing code without getters. Getters expose implementation, which increases coupling between objects and allows responsibilities to be left in the wrong module. Avoiding getters forces an emphasis on object behaviour, rather than state, which is one of the characteristics of Responsibility Driven Design.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Tim Mickinnon
</div>
</div>
<div class="paragraph">
<p>Once I came over this mental hurdle, I found I wasn&#8217;t primarily concerned with the data passed between the objects but really that the appropriate methods calls or methods (messages) between objects were observed. I used the <a href="https://code.google.com/p/mockito/">Mockito mocking library</a> and I find the most of my tests are interaction tests i.e. verifying that methods calls were made in the manner expected. State based testing is still important but at the right place. This got me thinking about objects in terms of <a href="http://c2.com/cgi/wiki?AlanKaysDefinitionOfObjectOriented">Alan Kay&#8217;s emphasis on message passing</a> . The following examples illustrates why telling an object to do something rather than asking it for its data is better.</p>
</div>
<div class="paragraph">
<p>I work a lot with enterprise integration and one of the examples that illustrates this point is message concatenation. During conversion from a internal message to one that that is supported by an external protocol, dependent on whether a message is concatenated or not, then the message may be decorated with extra parameters to indicate that it is a multipart message rather than a single message.</p>
</div>
<div class="paragraph">
<p>In this example the extra metadata parameters that get added are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The message reference for the multipart message</p>
</li>
<li>
<p>The part number of the message</p>
</li>
<li>
<p>Total number of parts for the message</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_implementation_using_an_ask_approach">Implementation Using An Ask Approach</h6>
<div class="paragraph">
<p>A factory was used to create a map of parameters for message concatenation:</p>
</div>
<script src="https://gist.github.com/bigkahuna1uk/5744388.js"></script>
<div class="paragraph">
<p>The protocol conveter</p>
</div>
</div>
        </div>

        <menu>
            <a href="" id="btn_share" class="btn" title="Share">
                <span aria-hidden="true" data-icon="S"></span>
                <strong>Share</strong>
            </a>
            <a href="http://twitter.com/share?text=Code%20As%20You%20Would%20Order%20A%20Burger&url=https://bigkahuna1uk.github.io/2013/06/09/Code-As-You-Would-Order-A-Burger.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" id="btn_comment" class="btn" target="_blank">
                <span aria-hidden="true" data-icon="C"></span> Comment on Twitter
            </a>
        </menu>


        <footer class="post-footer" role="contentinfo">

            <div class="vcard">
                <!-- <a href="https://bigkahuna1uk.github.io/rss" id="btn_feed" class="btn" title="Feed" target="_blank">
                    <span aria-hidden="true" data-icon=")"></span>
                    <strong>Feed</strong>
                </a> -->

                <a href="" class="photo">
                    <span style="background-image: url('https://avatars.githubusercontent.com/u/1609101?v=3');">
                        <img src="https://avatars.githubusercontent.com/u/1609101?v=3" alt="">
                    </span>
                </a>

                <div class="details">
                    <h4><a href="" class="url n"></a></h4>
                    
                    
                </div>
            </div>

            <div id="user_bio">
                <div class="inner">
                    
                </div>
            </div>

        </footer>




    <section class="post-comments">
      <div id="disqus_thread"></div>
      <script type="text/javascript">
      var disqus_shortname = 'bigkahuna1uk-github-io'; // required: replace example with your forum shortname
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </section>


    </article>

    <div id="share_modal">
        <div class="wrap">
            <div class="inner">
                <header>
                    Share
                    <a href="" class="close" title="Close">&times;</a>
                </header>

                <div class="roon-share-links">
                    <a href="https://twitter.com/share" class="twitter-share-button" data-dnt="true">Tweet</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

                    <div id="fb-elems">
                        <div id="fb-root"></div>
                        <script>(function(d, s, id) {
                        var js, fjs = d.getElementsByTagName(s)[0];
                        if (d.getElementById(id)) return;
                        js = d.createElement(s); js.id = id;
                        js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=463438580397968";
                        fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));</script>
                        <div class="fb-like" data-send="false" data-layout="button_count" data-width="110" data-show-faces="false" data-font="arial"></div>
                    </div>

                    <div id="pinit-btn">
                        <a href="//pinterest.com/pin/create/button/?url=https://bigkahuna1uk.github.io/2013/06/09/Code-As-You-Would-Order-A-Burger.html&amp;description=Code%20As%20You%20Would%20Order%20A%20Burger-EXAUDIO%2C%20COMPERIO%2C%20CONLOQUOR " data-pin-do="buttonPin" data-pin-config="beside"><img src="//assets.pinterest.com/images/pidgets/pin_it_button.png"></a>
                        <script type="text/javascript" src="//assets.pinterest.com/js/pinit.js"></script>
                    </div>
                </div>
            </div>
        </div>
    </div>






    <script>

            function get_text(el) {
                ret = "";
                var length = el.childNodes.length;
                for(var i = 0; i < length; i++) {
                    var node = el.childNodes[i];
                    if(node.nodeType != 8) {
                        ret += node.nodeType != 1 ? node.nodeValue : get_text(node);
                    }
                }
                return ret;
            }
            function reading_time () {
                var post_content = document.getElementById('js-post-content');
                if (post_content) {
                    var words = get_text(post_content),
                        count = words.split(/\s+/).length,
                        read_time = Math.ceil((count / 150)),
                        read_time_node = document.createTextNode(read_time + ' min read');
                    document.getElementById('js-reading-time').appendChild(read_time_node);
                }
            }

        function no_schema_links () {
            var links = document.querySelectorAll('.js-remove-domain-schema');
            if (links) {
                for (i = 0; i < links.length; ++i) {
                    var link = links[i],
                        text = link.innerHTML,
                        no_schema = text.replace(/.*?:\/\//g, "");
                    link.innerHTML = no_schema;
                }
            }
        }

        window.onload = function () {
            no_schema_links();

            reading_time();
        }
    </script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>

        <script>
            $(function(){
                var share_modal = $("#share_modal"),
                    update_social_links = true;

                $("#btn_share").click(function(){
                    var that = $(this);
                    share_modal.fadeIn(200);
                    return false;
                });

                share_modal.click(function(e){
                    if (e.target.className == "wrap" || e.target.id == "share_modal") {
                        share_modal.fadeOut(200);
                    }
                    return false;
                });

                share_modal.find("div.inner > header > a.close").click(function(){
                    share_modal.fadeOut(200);
                    return false;
                });
            });
        </script>


    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-74241702-1', 'auto');
    ga('send', 'pageview');

    </script>

</body>
</html>
